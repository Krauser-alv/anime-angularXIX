<div [class.pointer-events-none]="isLoading">
    <section class="my-3 mx-10">
        <div class="flex justify-between items-center">
            <h2 class="text-2xl font-bold flex items-center dark:text-textSecondary">
                <div class="w-[35px] h-[35px] mr-4 dark:textSecondary" [innerHTML]="safeIcon"></div>
                {{ title }}
            </h2>
        </div>
        
        <div [@fadeAnimation]>
            @if (displayedAnimes().length > 0) {
                <swiper-container 
                    appSwiper 
                    [config]="swiperConfig" 
                    [attr.data-slider]="sliderId"
                    pagination="true"
                    pagination-clickable="true"
                    pagination-dynamic-bullets="true"
                    scrollbar="false"
                    autoplay="true"
                    autoplay-delay="3000"
                    autoplay-disable-on-interaction="false">
                    
                    @for (anime of displayedAnimes(); track anime._id || $index) {
                        <swiper-slide [@slideAnimation]>
                            <div class="relative">
                                <app-poster-card [model]="anime"></app-poster-card>
                            </div>
                        </swiper-slide>
                    }
                </swiper-container>
            } @else {
                <app-empty-state 
                    [iconType]="emptyStateIcon"
                    [title]="emptyStateTitle"
                    [message]="emptyStateMessage">
                </app-empty-state>
            }
            
            <!-- Indicador de posici贸n personalizado -->
            @if (animeList.length > 0) {
                <div class="flex flex-col sm:flex-row justify-center items-center gap-2 sm:gap-4 mt-4 px-4">
                    <!-- Puntos de navegaci贸n -->
                    <div class="flex flex-wrap justify-center gap-1 sm:gap-2 max-w-full">
                        @for (item of slidesArray(); track $index) {
                            <button 
                                class="w-3 h-3 sm:w-3 sm:h-3 rounded-full transition-all duration-300 cursor-pointer flex-shrink-0"
                                [class]="activeSlideIndex() === $index ? 'bg-blue-500 scale-125 shadow-lg shadow-blue-400/50' : 'bg-gray-400 hover:bg-gray-300 hover:scale-110'"
                                (click)="goToSlide($index)">
                            </button>
                        }
                    </div>
                    
                    <!-- Informaci贸n de posici贸n -->
                    <div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 bg-gray-200/80 dark:bg-gray-800/50 px-2 py-1 sm:px-3 sm:py-1 rounded-full whitespace-nowrap">
                        {{ activeSlideIndex() + 1 }} / {{ totalSlides() }}
                    </div>
                </div>
            }
        </div>
    </section>
</div>