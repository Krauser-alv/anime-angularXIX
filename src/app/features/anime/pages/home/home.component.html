<section
    class="home-main-content flex justify-center items-center h-[459px] bg-cover bg-center text-white text-5xl font-bold shadow-lg"
    style="background: linear-gradient(135deg, rgba(34, 34, 34, 0.2), rgba(26, 33, 74, 0.2)), url('../assets/img/background.webp') no-repeat center center / cover;">
    <div class="text-center max-w-2xl">
        <h1 class="text-8xl mb-4 dark:text-primary">Welcome</h1>
        <p class="text-xl text-details">Discover your favorite anime and series</p>
    </div>
</section>

<div [class.pointer-events-none]="isLoading()">
    <section class="my-5 mx-10">
        <div class="flex justify-between items-center">
            <h2 class="text-2xl font-bold flex items-center dark:text-textSecondary">
                <svg class="w-[35px] h-[35px] mr-4 dark:textSecondary" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M19 4H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1Zm0 0-4 4m5 0H4m1 0 4-4m1 4 4-4m-4 7v6l4-3-4-3Z" />
                </svg>
                Anime recommendation
            </h2>
        </div>
        
        <div [@fadeAnimation] class="pb-12">
            <swiper-container 
                appSwiper 
                [config]="config" 
                pagination="true"
                pagination-clickable="true"
                pagination-dynamic-bullets="true"
                scrollbar="false"
                autoplay="true"
                autoplay-delay="3000"
                autoplay-disable-on-interaction="false">
                
                @if (displayedAnimes().length > 0) {
                    @for (anime of displayedAnimes(); track anime._id || $index) {
                        <swiper-slide [@slideAnimation]>
                            <div class="relative">
                                <app-poster-card [model]="anime"></app-poster-card>
                            </div>
                        </swiper-slide>
                    }
                } @else {
                    <div class="flex justify-center items-center h-40">
                        <p class="text-white text-lg text-center p-4 bg-gray-800 bg-opacity-75" [@fadeAnimation]>
                            No hay animes disponibles
                        </p>
                    </div>
                }
            </swiper-container>
            
            <!-- Indicador de posici贸n personalizado -->
            @if (animeList().length > 0) {
                <div class="flex flex-col sm:flex-row justify-center items-center gap-2 sm:gap-4 mt-4 px-4">
                    <!-- Puntos de navegaci贸n -->
                    <div class="flex flex-wrap justify-center gap-1 sm:gap-2 max-w-full">
                        @for (item of slidesArray(); track $index) {
                            <button 
                                class="w-3 h-3 sm:w-3 sm:h-3 rounded-full transition-all duration-300 cursor-pointer flex-shrink-0"
                                [class]="activeSlideIndex() === $index ? 'bg-blue-500 scale-125 shadow-lg shadow-blue-400/50' : 'bg-gray-400 hover:bg-gray-300 hover:scale-110'"
                                (click)="goToSlide($index)">
                            </button>
                        }
                    </div>
                    
                    <!-- Informaci贸n de posici贸n -->
                    <div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 bg-gray-200/80 dark:bg-gray-800/50 px-2 py-1 sm:px-3 sm:py-1 rounded-full whitespace-nowrap">
                        {{ activeSlideIndex() + 1 }} / {{ totalSlides() }}
                    </div>
                </div>
            }
        </div>
    </section>
</div>